# CSP Validation Script

This is a simple js file to see of the function from the third party js file is loaded into DOM. It's not fool-proof but quick&dirty way to check if the js file loaded.

## How to use

### 1.Setup local HTTP Server (python3)
Setup the local HTTP server using python 3.
```python
python -m http.server 8099 --bind 127.0.0.1
```

### 2.Testing the CSP (dynamically)
1. Load the web site in the web browser
2. Open developer tools in the same web site
3. Paste/type the following code. This will call the function insode the JS file. Since the script is not yet loaded, it should show an error.
```JavaScript
show_alert_for_csp();
```
4. Paste/type the following code. This loads the js file from github to your web page
```JavaScript
document.write('<script src="http://127.0.0.1:8099/cspTestA.js"></script>');
```
5. Paste/type the following code. This will call the function insode the JS file. If the function gets executed, you should see a alert window.
```JavaScript
show_alert_for_csp();
```

### 3.Results
* **Step #3 result:** You need to see the error in step #3 above. This indicates the function file was not loaded before testing.
* **Step #4 result:** File supposed to be accepted by the web browser. If any errors raised (i'm not talking about warnings), you may need to try with diff web browesr or changing the web browser settings for your simulation
* **Step #5 result:** If alert is visible, the third party js file included successfully. There might be missing/misconfigured CSP header in your web app. If the alert is not visible, most probably the CSP header is in place and hence you need to further analyse the CSP header for misconfigurations.

## Happy Hunting ;)
